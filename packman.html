<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<style>

    body {
        background-color: black;
    }

    body > div {
        margin: 50px auto;
        /*  text-align: center;*/
    }

    .tile {

        width: 50px;
        height: 50px;

        display: inline-block;
        vertical-align: top;

    }


    .block {
        background-color: #0000FF;
        border: 2px;
        outline: 1px dotted #ff9999;
    }

    .coin {
        background-color: yellow;
        border-radius: 50%;
        transform: scale(0.3);
    }

    .blank {
        width: 50px;
        height: 50px;
        background-color: #00B7FF;
    }


    .pacMan {
        background-color: #ff9999;
    }

</style>


<body>
<div class=main_wp id="main_wp">
    <!--<div class = "tile block"></div>
    <div class = "tile coin"></div>
    <div class = "tile pacMan" id = tile pacMan></div>-->
</div>
</body>


<script>


    const WALL = 0;
    const COIN = 1;
    const PACMANC = 3;
    const BLANK = 4;


    let pacman = {
        x: 1,
        y: 4
    }


    let data = [
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 1, 1, 1, 0, 0, 0, 0, 1, 0],
        [0, 1, 0, 1, 1, 1, 1, 1, 1, 0],
        [0, 1, 0, 0, 1, 0, 1, 0, 0, 0],
        [0, 3, 0, 0, 1, 0, 1, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    ]
    let main_wp = document.getElementById("main_wp")



    function addCell(cell_data) {
        let bcs = document.createElement("div")
        let class_name = 'tile ';
        if (cell_data === COIN) {
            class_name += 'coin';
        } else if(cell_data === WALL) {
            class_name += 'block';
        } else if(cell_data === BLANK) {
            class_name += 'blank';
        } else if(cell_data === PACMANC) {
            class_name += 'pacMan';
        }
        bcs.className = class_name
        main_wp.appendChild(bcs)
    }


    function drawMap(pacman) {

        /*main_wp.innerHTML = '';*/
        for (let y = 0; y < data.length; y++) {
            for (let x = 0; x < data[y].length; x++) {
              addCell(data[y][x])
            }
            main_wp.innerHTML += '<br>';
        }
    }

    drawMap();



    document.onkeydown = function(event) {
        // console.log(event);
        if (event.keyCode === 37) { // 왼
            if (data[pacman.y][pacman.x - 1] !==WALL) {
                data[pacman.y][pacman.x] = BLANK;
                pacman.x = pacman.x - 1;
                data[pacman.y][pacman.x] = PACMANC;
                console.log(pacman)
                return pacman;

            }
        }

        else if (event.keyCode === 38){ // 위
            if ( data[pacman.y-1][pacman.x] !== WALL){
                data[pacman.y][pacman.x] = BLANK;
                pacman.y = pacman.y -1;
                data[pacman.y][pacman.x] = PACMANC;
                console.log(pacman)
                return pacman;

            }
        }
        else if (event.keyCode === 39){ // 오른쪽
            if ( data[pacman.y][pacman.x+1] !== WALL){
                data[pacman.y][pacman.x] = BLANK;
                pacman.x = pacman.x + 1;
                data[pacman.y][pacman.x] = PACMANC;
                console.log(pacman)
                return pacman;
            }
        }
        else if (event.keyCode === 40){ // 아래
            if ( data[pacman.y+1][pacman.x] !== WALL){
                data[pacman.y][pacman.x] = BLANK;
                pacman.y = pacman.y + 1;
                data[pacman.y][pacman.x] = PACMANC;
                console.log(pacman)
                return pacman;
            }
        }
    }


    const pacMan = document.getElementById("pacMan")




    /*   arr.map(function (arr) {
           if (arr[0][1] == 0) {
               return person
           } else {
               return null
           }
       });
   */


    /*const pacMan = document.getElementById("pacMan")*/

    /*  pacMan.addEventListener("keyup",movePac);*/
    /*
     function moveUp() {
         console.ggg
     }

     function moveDown() {
         console.ggg
     }
     function moveLeft() {
         console.ggg
     }
     function moveRight() {
         console.ggg
     }*/









/*merge*/

/*    function addCell(cell_data) {
        let bcs = document.createElement("div")
        let class_name = 'tile ';
        if (cell_data === 1) {
            class_name += 'coin';
        } else if(cell_data === 0) {
            class_name += 'block';
        }
        bcs.className = class_name
        main_wp.appendChild(bcs)
    }

    function drawMap() {


        for (let y = 0; y < data.length; y++) {
            for (let x = 0; x < data[y].length; x++) {
                addCell(data[y][x]);
            }
        }
    }*/


</script>






</html>